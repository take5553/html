# 記事削除機能の設計

記事編集画面に記事削除ボタンを追加するイメージ。

記事編集機能の設計のときに頑張りすぎた感あるけど、削除は削除するだけなので楽。物理削除ではなく、論理削除（削除フラグを立てて「削除されたよ」という目印にする）でいく。

## 設計

### 新規作成Model

* 「削除」ボタン押下時のDB更新
  * 名前・・・`DeleteDBPostData`
  * 引数・・・`int $postId`、`string $password`
  * 戻り値
    * 正常終了・・・`true`
    * DB更新できなかった場合・・・`false`
  * 処理後の状態
    * 正常終了・・・指定IDの記事データの`deleted_at`に日付が入っている。
    * DB更新できなかった場合・・・指定IDの記事データの`deleted_at`は`null`のまま

### 変更Model

* 削除記事がある場合の記事取得

  * 対象・・・`GetDBPostData`

  * 現状

    全ての記事データを取得

  * 変更後

    `deleted_at = null`の記事データだけ取得

